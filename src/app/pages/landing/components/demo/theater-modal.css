/* TheaterModal - Reusable animated modal with retro comic styling */

:root {
  /* Animation timing - can be overridden with debug mode */
  --theater-animation-duration: 0.6s;
  --theater-animation-easing: cubic-bezier(0.4, 0, 0.2, 1); /* Smooth ease-out, no bounce */
}

/* Debug mode speed controls (add ?demo-speed=slow|fast to URL) */
body[data-demo-speed="slow"] {
  --theater-animation-duration: 1.2s;
}

body[data-demo-speed="fast"] {
  --theater-animation-duration: 0.3s;
}

/* Overlay - Full screen backdrop */
.theater-modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0, 0, 0, 0);
  z-index: 9999;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  transition: background var(--theater-animation-duration) ease;
}

.theater-modal-overlay.theater-modal-open {
  background: rgba(0, 0, 0, 0.6);
}

/* Container - The modal itself */
.theater-modal-container {
  position: relative;
  width: 100%;
  height: 20vh; /* Start as bottom sheet */
  max-width: 100vw;
  background: white;
  transform: translateY(100%); /* Start off-screen */
  transition: all var(--theater-animation-duration) var(--theater-animation-easing);
  overflow: hidden;
}

.theater-modal-open .theater-modal-container {
  height: 100vh; /* Expand to full screen */
  transform: translateY(0); /* Slide into view */
}

/* Comic Borders - Thick retro borders */
.theater-modal-border {
  position: absolute;
  background: var(--border-color, #1a1a1a);
  opacity: 0;
  transition: all var(--theater-animation-duration) var(--theater-animation-easing);
}

.theater-modal-open .theater-modal-border {
  opacity: 1;
}

/* Top border */
.theater-modal-border-top {
  top: 0;
  left: 0;
  right: 0;
  height: 0;
}

.theater-modal-open .theater-modal-border-top {
  height: var(--border-width, 6px);
}

/* Right border */
.theater-modal-border-right {
  top: 0;
  right: 0;
  bottom: 0;
  width: 0;
}

.theater-modal-open .theater-modal-border-right {
  width: var(--border-width, 6px);
}

/* Bottom border */
.theater-modal-border-bottom {
  bottom: 0;
  left: 0;
  right: 0;
  height: 0;
}

.theater-modal-open .theater-modal-border-bottom {
  height: var(--border-width, 6px);
}

/* Left border */
.theater-modal-border-left {
  top: 0;
  left: 0;
  bottom: 0;
  width: 0;
}

.theater-modal-open .theater-modal-border-left {
  width: var(--border-width, 6px);
}

/* Content area */
.theater-modal-content {
  position: relative;
  width: 100%;
  height: 100%;
  padding: calc(var(--border-width, 6px) + 20px);
  overflow-y: auto;
  opacity: 0;
  transform: scale(0.95);
  transition: all var(--theater-animation-duration) ease;
  transition-delay: calc(var(--theater-animation-duration) * 0.3); /* Delay content fade-in */
}

.theater-modal-open .theater-modal-content {
  opacity: 1;
  transform: scale(1);
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .theater-modal-container {
    height: 30vh; /* Taller starting height on mobile */
  }

  .theater-modal-content {
    padding: calc(var(--border-width, 6px) + 15px);
  }
}
